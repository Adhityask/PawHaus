{%extends 'base.html' %}
{% load static %}
{% block 'main' %}

<div class="col-md-10 mt-2">

  <div class="row">
    <!-- Handle 'notfound' message -->
    {% if notfound %}
      <p>{{ notfound }}</p>
    {% endif %}

    <!-- Handle Django messages -->
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} mb-3">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <!-- Handle 'error' message -->
    {% if error %}
      <p>{{ error }}</p>
    {% endif %}

    <!-- Display each product -->
    {% for i in data %}
      <div class="col-md-3 mb-4">
        <div class="card shadow rounded-4 border-0" style="width: 100%;">
          <img src="{{ i.img.url }}" class="card-img-top" height="350px" alt="{{ i.name }}">
          <div class="card-body">
            <h5 class="card-title">{{ i.name }}</h5>
            <h6 class="text-muted">{{ i.type }}</h6>
            <p class="mb-1"><strong>Age:</strong> {{ i.age }}</p>
            <p class="mb-1"><strong>Gender:</strong> {{ i.gender }}</p> <!-- Assuming male is for gender -->
            <p class="card-text mb-2">{{ i.breed }}</p>
            <p class="card-text mb-2">{{ i.details }}</p>
            <strong>&#8377;{{ i.price }}</strong><br>

            <!-- Action Buttons -->
            <a href="/details/{{ i.id }}" class="btn btn-danger btn-sm mt-2">Details</a>
            <a href="/addtocart/{{ i.id }}" class="btn btn-primary btn-sm mt-2">Add to Cart</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock 'main' %}